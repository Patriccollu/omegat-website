<div class="container">

<h2>Návod OmegaT:<br/>Kompilace OmegaT ze zdrojového kódu</h2>


<p>Tento návod popisuje jak kompilovat OmegaT ze zdrojového kódu.</p>

<p>OmegaT je dodávána jako připravený balíček pro celou řadu platforem, včetně multiplatformní verze. Uživatelé proto sami nepotřebují kompilovat OmegaT. Kompilování OmegaT má své opodstatnění pro vývojáře, kteří chtějí dělat vlastní úpravy v kódu.</p>

<p><strong>1. Stáhněte a instalujte si Java Development Kit (JDK) a Apache Ant</strong></p>

<p>Pro kompilaci zdrojového kódu po provedení změn můžete používat různé programy, ale mezi nejběžnější se řadí <a href="http://ant.apache.org">Apache Ant</a>. Současně je vyžadováno prostředí <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java Development Kit</a> (JDK).</p>

<p>V závislosti na tom jak instalujete sadu Java Development Kit, bude možná nutno změnit parametr „JAVA_HOME“ aby to fungovalo s Ant.</p>

<p><strong>2. Kompilace kódu</strong></p>

<p>Názvy adresářů uvedené níže slouží pouze pro ilustraci; čísla verzí se změní.</p>

<p>Otevřete si okno s příkazovým řádkem (konsole, okno DOS). Přejděte z aktuálního adresáře do hlavního adresáře zdrojového kódu OmegaT (adresář obsahující soubor build.xml), např. </p>

<p style="font-family: monospace;">cd C:\My Documents\MyOmegat\OmegaT_2.2.3_Beta_Source</p>

<p>Z tohoto adresáře budete spouštět Apache Ant, umístěte sem jeho spustitelný soubor. Je možné, že bude nutno vložit celou cestu, např.:</p>

<p style="font-family: monospace;">C:\Program Files\apache-ant-1.7.0-bin\apache-ant-1.7.0\bin\ant</p>

<p>Pokud se kompilace zdaří, uvidíte hlášení „BUILD SUCCESSFUL“. Pokud ne, ukáží se hlášení pro odstranění chyb a (snad) poskytnou tipy pro odstranění problému.</p>

<p><strong>3. Spušťte OmegaT</strong></p>

<p>Pokud se kompilace zdařila, tak je zkompilovaná aplikace OmegaT umístěna v:</p>

<p style="font-family: monospace;">OmegaT_2.2.3_Beta_Source\dist</p>

<p>Na stejném místě přes příkazovou řádku změňte tento adresář, např. přes příkaz:</p>

<p style="font-family: monospace;">cd C:\My Documents\MyOmegat\OmegaT_1.8.0_01_Beta_Source\dist</p>

<p>a spusťte OmegaT: </p>

<p style="font-family: monospace;">java -jar OmegaT.jar</p>



<p><strong>4a. První příklad změn: změnit barvu zvýrazňování segmentů</strong></p>

<p>V adresáři</p>

<p style="font-family: monospace;">src/org/omegat/gui/editor</p>

<p>v textovém editoru otevřete soubor SegmentBuilder.java.</p>

<p>Najděte řádky:</p>

<p style="font-family: monospace;">return Styles.createAttributeSet(fg, Styles.COLOR_GREEN, true, null);</p>

<p>a</p>

<p style="font-family: monospace;">b = Styles.COLOR_GREEN;</p>

<p>a nahraďte</p>

<p style="font-family: monospace;">COLOR_GREEN</p>

<p>tímto</p>

<p style="font-family: monospace;">COLOR_BLUE.</p>

<p>V adresáři</p>

<p style="font-family: monospace;">src/org/omegat/util/gui</p>

<p>v textovém editoru otevřete soubor Styles.java.</p>

<p>Najděte řádek</p>

<p style="font-family: monospace;">public static final Color COLOR_GREEN = new Color(192, 255, 192);</p>

<p>Nahraďte</p>

<p style="font-family: monospace;">COLOR_GREEN</p>

<p>tímto</p>

<p style="font-family: monospace;">COLOR_BLUE</p>

<p>a</p>

<p style="font-family: monospace;">192, 255, 192 </p>

<p>tímto</p>

<p style="font-family: monospace;">225, 225, 255.</p>



<p><strong>4b. Druhý příklad úprav: změnit počet přibližných překladů, jež se má zobrazovat, a to z pěti na deset</strong></p>

<p>V adresáři</p>

<p style="font-family: monospace;">/src/org/omegat/util</p>

<p>v textovém editoru otevřete soubor OConsts.java.</p>

<p>Najděte řádky:</p>

<p style="font-family: monospace;">/** Number of fuzzy matches to display */<br/> [česky: Počet zobrazených přibližných shod] public static final int MAX_NEAR_STRINGS = 5;</p>

<p>a nahraďte</p>

<p style="font-family: monospace;">= 5</p>

<p>tímto</p>

<p style="font-family: monospace;">= 10</p>


<p>V obou příkladech provádějte kompilaci a testy dle postupu popsaného výše.</p>

<p>Copyright Marc Prior 2011-2012</p>

</div>

