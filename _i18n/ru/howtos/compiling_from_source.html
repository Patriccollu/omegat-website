<div class="container">

<h2>OmegaT HowTo: <br/>Сборка OmegaT из исходного кода</h2>


<p>В данном руководстве описывается сборка OmegaT из исходного кода.</p>

<p>Существуют готовые сборки OmegaT для целого ряда платформ, а также кросс-платформенная версия. Простым пользователям обычно не требуется собирать OmegaT самостоятельно. Как правило, сборкой OmegaT занимаются только разработчики, которые вносят какие-либо изменения в код.</p>

<p><strong>1. Загрузка и установка Java Development Kit (JDK) и Apache Ant</strong></p>

<p>Для сборки исходного кода после внесения в него изменений можно использовать разные программы, но одной из наиболее удобных является <a href="http://ant.apache.org">Apache Ant</a>. Также потребуется <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java Development Kit</a> (JDK).</p>

<p>В зависимости от того, как вы установите Java Development Kit, для корректной работы Ant может потребоваться изменить значение системной переменной «JAVA_HOME».</p>

<p><strong>2. Сборка исходного кода</strong></p>

<p>Приведённые ниже имена папок указаны лишь как пример, названия ваших папок и номера версий программ будут отличаться.</p>

<p>Откройте окно командной строки (консоль, окно DOS). Перейдите в папку с исходным кодом OmegaT (папку, в которой находится «build.xml»), например:</p>

<p style="font-family: monospace;">cd C:\My Documents\MyOmegat\OmegaT_2.2.3_Beta_Source</p>

<p>Находясь в этой папке, запустите Apache Ant. Возможно, придётся указать полный путь к исполняемому файлу, например:</p>

<p style="font-family: monospace;">C:\Program Files\apache-ant-1.7.0-bin\apache-ant-1.7.0\bin\ant</p>

<p>В случае успешной сборки исходного кода, появится сообщение «BUILD SUCCESSFULL». В противном случае, будут показаны отладочные сообщения, которые (будем надеяться) помогут понять, в чём заключается проблема.</p>

<p><strong>3. Запуск OmegaT</strong></p>

<p>Если сборка прошла успешно, исполняемый файл OmegaT будет помещён в папку:</p>

<p style="font-family: monospace;">OmegaT_2.2.3_Beta_Source\dist</p>

<p>В командной строке перейдите в эту папку, введя, например:</p>

<p style="font-family: monospace;">cd C:\My Documents\MyOmegat\OmegaT_1.8.0_01_Beta_Source\dist</p>

<p>и запустите OmegaT командой:</p>

<p style="font-family: monospace;">java -jar OmegaT.jar</p>



<p><strong>4a. Первый пример внесения изменений в код: изменение цвета подсветки сегментов</strong></p>

<p>В папке</p>

<p style="font-family: monospace;">src/org/omegat/gui/editor</p>

<p>откройте файл «SegmentBuilder.java» в текстовом редакторе.</p>

<p>Найдите строки:</p>

<p style="font-family: monospace;">return Styles.createAttributeSet(fg, Styles.COLOR_GREEN, true, null);</p>

<p>и</p>

<p style="font-family: monospace;">b = Styles.COLOR_GREEN;</p>

<p>и замените</p>

<p style="font-family: monospace;">COLOR_GREEN</p>

<p>на</p>

<p style="font-family: monospace;">COLOR_BLUE.</p>

<p>В папке</p>

<p style="font-family: monospace;">src/org/omegat/util/gui</p>

<p>откройте файл «Styles.java» в текстовом редакторе.</p>

<p>Найдите строку</p>

<p style="font-family: monospace;">public static final Color COLOR_GREEN = new Color(192, 255, 192);</p>

<p>Замените</p>

<p style="font-family: monospace;">COLOR_GREEN</p>

<p>на</p>

<p style="font-family: monospace;">COLOR_BLUE</p>

<p>и</p>

<p style="font-family: monospace;">192, 255, 192 </p>

<p>на</p>

<p style="font-family: monospace;">225, 225, 255.</p>



<p><strong>4b. Второй пример внесения изменений в код: увеличение числа показываемых нечётких совпадений с пяти до десяти</strong></p>

<p>В папке</p>

<p style="font-family: monospace;">/src/org/omegat/util</p>

<p>откройте файл «OConsts.java» в текстовом редакторе.</p>

<p>Найдите строки:</p>

<p style="font-family: monospace;">    /** Number of fuzzy matches to display */<br/>
    public static final int MAX_NEAR_STRINGS = 5;</p>

<p>и замените</p>

<p style="font-family: monospace;">= 5</p>

<p>на</p>

<p style="font-family: monospace;">= 10</p>


<p>Для обоих примеров, соберите программу и протестируете изменённую версию, как описано выше.</p>

<p>Copyright Марк Прайор 2011-2012</p>

</div>

