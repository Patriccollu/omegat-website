<div class="container">

<h2>OmegaT 技術情報：Linux</h2>


<p>この技術情報は、Linux で OmegaT を使用する方法を説明します。特に、Linux 初心者を対象にしています。</p>

<h3>Java</h3>

<p>OmegaT は、すべての版の Java で適切に動作するわけではありません。Java がシステムにインストール済みで（その可能性が高いでしょう）、システム全体に対するこの既存の Java 版を OmegaT 用に使いたいのであれば、まずその適性を確認する必要があります。それには、まずターミナルを開きます（コンソールまたはコマンドラインウィンドウとも呼ばれ、そのための一般的なプログラムは konsole（KDE）と gnome-terminal（GNOME）です）。ターミナルに次のように入力します。</p>

<p>java -version</p>

<p>システムレベルでインストールされている Java の詳細なバージョン情報が出力されます。</p>

<p>Oracle（旧 Sun）版 Java：要求される正確な Oracle Java のバージョンを、OmegaT 文書（readme.txt）内のシステム要件で確認してください（既存の Java バージョンが十分に新しいかどうか）。</p>

<p>他業者版の Java：比較的最近まで、OmegaT は Oracle/Sun 独自の Java でのみ動作しました。OmegaT は現在、一部の Linux ディストリビューションで提供される OpenJDK Java 上で動作しますが、一部の機能（たとえばフルセットのコマンドラインオプションなど）が使えない可能性があり、別の字体セットが提供されるかもしれません。また、ウィンドウ表示や分節機能などで多少不具合が報告されています。</p>

<p>既存の Java バージョンが適切かどうか不確かな場合：</p>

<ul>

<li>Java 無しの OmegaT バージョンをインストールし、動作するかどうか確かめます。動作しない場合、ローカルな Java バージョンか、システムレベルの別の Java バージョンの、いずれかをインストールする選択肢があります。</li>

<li>デフォルトとは別の 2 つ目のシステムレベルの Java バージョンをインストールして、このバージョンで明示的に OmegaT を起動します。</li>

<li>Java 付きの OmegaT バージョンをインストールします。</li>

</ul>

<p>システムレベルでインストールした Java バージョンでは OmegaT が動作せず、これを Oracle 版 Java に入れ替えたい場合は、まず、使用している Linux ディストリビューション（SUSE、Ubuntuなど）で Oracle パッケージを利用できるか確認してください。利用できるなら、インストールがずっと簡単になります。</p>

<p>Oracle 版 Java を Oracle から直接入手した場合、簡単にインストールできる可能性が高いでしょう。ただし、それをシステムレベルでデフォルトの Java バージョンにしたい場合は、手動で設定しなければなりません。特に、もし Linux に慣れていない場合、これはお勧めできません。</p>

<p>Java 付きの OmegaT バージョンをローカルレベルでインストールするという 3 番目の選択肢が、常に「安全な」選択肢としてお勧めできます。</p>

<h3>OmegaT の選択とダウンロード</h3>

<p>Linux 向けに、以下の OmegaT バージョンが利用可能です。</p>

<p>「通常版」、「開発版」、「Trunk 版」、「Webstart 版」。開発版をお勧めします。（これらの版の違いの詳細については、OmegaT ウェブサイトの「ダウンロード」ページを参照してください。）</p>

<p>JRE 無しと JRE 付き、すなわち JRE 無しのクロスプラットフォーム版（たとえば「OmegaT_2.1.7_02_Beta_Without_JRE.zip」 と、 JRE 付きの Linux 専用版（たとえば「OmegaT_2.1.7_02_Beta_Linux.tar.bz2」）があります。ユーザーの Java の状況に応じて、JRE 無しか JRE 付きを選んでください（上記参照）。</p>

<p>OmegaT は、オープンソースプログラムとして多くの Linux ディストリビューションのリポジトリに収録されているので、その道筋でインストールすることができます。ただし、次の留意点があります。</p>

<ul>

<li>ほとんどの Linux ディストリビューションは、デフォルトで OpenJDK 版 Java を使用しています。執筆時点で、OmegaT は、Oracle 版 Java のほうがずっと良好に作動します（上記参照）。</li>

<li>通常配布される OmegaT バージョンは、「通常版」です。「開発版」は、通常、より多くの機能をもっています。</li>

</ul>

<p>Linux に複数の OmegaT バージョンを、衝突を起こさずに容易にインストールできます。ただし、いずれのバージョンも常に同じ個人設定ファイルにアクセスします（異なるユーザーアカウントから起動するのでない限り）。</p>

<h3>OmegaT のインストール</h3>

<p>Linux 版の OmegaT は、独自のインストールスクリプトである linux-install.sh. と一緒に配布されます。このスクリプトは、</p>

<ul>

<li>OmegaT プログラムファイルを /opt/omegat/OmegaT-&lt;version&gt; へ入れます。</li>
<li>bash および kaptain 起動スクリプトを含みます。</li>
<li>/usr/local/bin から起動スクリプトへのリンクを作成します。</li>

</ul>

<p>bash スクリプトは、手動で編集できる非常に基本的なファイルであり、OmegaT を起動・設定するためのコマンドラインオプションを含みます。</p>

<p>kaptain スクリプト（「文法」とも呼ばれる）によって、使い勝手の良い GUI から起動・設定オプションを選択できるようになります。このスクリプトを使って、たとえばユーザーインターフェース言語を選んだり、OmegaT に割り当てるメモリを増やしたり、Google Translate パスワードを入力したりできます。単に omegat.kaptn ファイルをテキストエディタで編集することにより、ユーザー設定がデフォルトになるように、kaptain 起動スクリプトをカスタマイズできます。このファイルは、わかりやすいようにコメントが付いています。ただし、kaptain スクリプトが機能するためには、まず kaptain をインストールしなければなりません。kaptain がディストリビューションのリポジトリにない場合は、<a href="http://kaptain.sourceforge.net">kaptain.sourceforge.net からダウンロード</a>できます。</p>

<p><img src="/img/kaptain.png" alt="preview_ss.png"/></p>

<p><i>kaptain OmegaT ランチャーのスクリーンショット</i></p>

<p>インストールスクリプトを使えば便利ですが、お望みであれば手動で OmegaT を Linux にインストールすることもできます。単に、任意のフォルダー内にアーカイブを展開するだけです。この場合、実行パスに起動スクリプトは書かれません。</p>

<h3>コマンドラインからの OmegaT の起動</h3>

<p>OmegaT をコマンドラインから起動する必要はありませんが、そうすることでデバック情報が得られるので有用なこともあるでしょう。コマンドラインから起動するには、ターミナルウィンドウを開きます（ルート権限は不要です）。OmegaT.jar の入ったフォルダーまでたどります。たとえば</p>

<p>cd /opt/omegat/OmegaT_2.3.4</p>

<p>のようなフォルダーで、ENTER を押します。</p>

<p>そこで起動コマンドを入力し、ENTER で確定します。基本的な起動コマンドは</p>

<p>java -jar OmegaT.jar</p>

<p>となります。コマンドは大文字と小文字を区別します。.</p>

<p>システムレベルでインストールされていない Java バージョンを使用する場合は、これでは不十分であり、Java の場所をシステムに教えなければなりません。JRE 付きの OmegaT バージョンをインストールした場合は、同梱された起動スクリプトに、すでにこのパスが書かれています。追加の Java バージョンをインストールし、それをシステムレベルのデフォルト版としていない場合は、起動コマンドに Java バイナリファイルのフルパスを記入する必要があります。これは、/usr/lib/jvm/java-6-sun-1.6.0.16/jre/bin/java のようになります。Java をインストールする際にインストール場所を記録し、後で見つけやすくするとよいでしょう。したがって、コマンドは次のようになります（大文字と小文字を区別）。</p>

<p>/usr/lib/jvm/java-6-sun-1.6.0.16/jre/bin/java -jar OmegaT.jar</p>

<p>起動スクリプト中の OmegaT.jar のパスを、java コマンドのパスと取り違えないように注意してください。前者のパス（cd コマンド付き）は、起動スクリプトが OmegaT.jar と同じフォルダーにない場合に必要です。後者のパスは、使用したい Java バージョンがシステムレベルでデフォルト版になっていない場合に使用します。</p>

<h3>起動スクリプトからの OmegaT の起動</h3>

<p>すでに述べたように、bash 起動スクリプトが OmegaT に同梱しています。このスクリプトをコピーするか、または実行パスにリンクしたら（同梱のインストールスクリプトを使えば自動で行われます）、<i>Alt+F2</i> を押し、<i>omegat</i> と入力することによって、OmegaT を起動できます。</p>

<p>デフォルトで bash 起動スクリプトが実行可能ですが、システムによって権限が変えられることもあるので（たとえばアーカイブを展開したとき）、もう一度実行可能にする必要があるかもしれません。</p>

<h3>簡単な OmegaT の起動</h3>

<p>OmegaT をプログラム起動メニューに追加したり、その起動アイコンをデスクトップパネルに置いたりすれば、起動がさらに簡単になります。あまるほどの数のディストリビューションがあるので、可能な手段はたくさんあり、その実装方法もさらにたくさんあります。</p>

<h3>Linux における OmegaT 字体の見た目</h3>

<p>Linux における OmegaT 字体の見た目は、以下の条件によって大きく異なることがあります。</p>

<ul>

<li>使用している Java バージョン（Sun 版と OpenJDK 版のJava では、同じ字体がかなり違った見た目になることがあります。）</li>

<li>利用可能な字体、選択した字体</li>

<li>字体の大きさ</li>

<li>アンチエイリアスが有効か無効か（これはコマンドライン起動オプションですが、kaptain 起動スクリプト内で設定することもできます。）</li>

</ul>

<h3>OmegaT のアンインストール</h3>

<p>システムから OmegaT の痕跡をすべて消去するには、</p>

<p>OmegaT プログラムフォルダーを削除します。これは将来、簡単に復元できます。</p>

<p>OmegaT を起動する際に使ったすべてのユーザーアカウントについて、フォルダー /home/&lt;user&gt;/.omegat を削除してください。これによって、ユーザー設定（分節規則の変更など）が削除されます。また、フォルダーを単にゴミ箱に移動するのではなく、「適切」に削除すると、復元は不可能になります。</p>

<p>起動スクリプトがあれば削除し、デスクトップに OmegaT 用のカスタムエントリーがあればそれも除去してください。</p>

<p>OmegaT をアンインストールしても、OmegaT プロジェクトはシステムから除去されません。OmegaT プログラムフォルダー内や設定ファイルフォルダー内にプロジェクトを入れていた場合は別ですが、そこは本来プロジェクトを入れるには適さない場所です。</p>

<br/><br/>

<p>Copyright Marc Prior 2010-2012</p>

</div>

